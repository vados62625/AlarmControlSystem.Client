@using GPNA.AlarmControlSystem.Pages.Monitoring.Components
@using GPNA.AlarmControlSystem.Models.Dto.Tag
@using GPNA.AlarmControlSystem.Extensions
@using GPNA.AlarmControlSystem.Application.Dto.TagChange

<tr class="tag-table-archive-line">
    <td>
        <div class="d-flex justify-content-between align-items-center">
			<p>@TagChange.CreatedAt.ToString("dd.MM.yyyy HH:mm")</p>
            <svg style="width:9px; height:9px;">
                <use href="/img/icons/icons.svg#triangle-up"></use>
            </svg>
        </div>            
    </td>
    <td class="tag-table-archive-border">
        <div class="tag-table-border description red" >
            <p>Сепаратор нефтегазовый</p>
        </div>
    </td>
    <td class="tag-table-archive-specialist" style="min-width: 230px;">
        <p>@TagChange.Initiator?.Login</p>
    </td>
    <td class="tag-table-archive-specialist" style="min-width: 230px;">
        <p>@TagChange.Executor?.Login</p>
    </td>
    <td class="tag-table-archive-border">
        <div class="tag-table-border">
			<MonitoringTableStatus Title="@TagChange.Priority?.GetDescription()" Priority="@TagChange.Priority" ActiveStatus="not-active"/>
        </div>            
    </td>
    <td class="tag-table-archive-border">
        <div class="tag-table-border red">
			<p>@(TagChange.AlarmLimit ?? "N/A")</p>
        </div>            
    </td>
    <td/>
</tr>
@if (TagChange.Comment != null)
{
    <tr>
        <td colspan="8">
            <div class="tag-table-archive-comment">
                <p>@TagChange.Comment</p>
            </div>
        </td>
    </tr>
}

@code {
    [CascadingParameter] public IModalService Modal { get; set; } = default!;

    [Parameter] public TagChangeDto TagChange { get; set; } = new();
   
}
