@page "/"

@using System.Text.Json;



<div style="display:flex; justify-content:space-evenly;margin-top:50px;">
    <div style="display:flex;flex-direction:column;align-content:center;">
        <h4>Количество сигнализаций за неделю</h4>
        <div style="height:340px;display: flex;justify-content: center; align-items: center; max-width:420px;margin: auto;">
            <DoughnutChart Id="donutChart1" Data1="@num1"/>
            <span style="position: absolute;margin-top: 45px;font-size: 50px;" title="Среднее число входящих сигнализаций">150</span>
        </div>
    </div>
    
    
        
    <div style="display:flex;flex-direction:column;align-content:center;">
        <h4>Количество сигнализаций за неделю от разных датчиков</h4>
        <div style="height:340px;display: flex;justify-content: center; align-items: center;max-width:420px;margin: auto;">
            <DoughnutChart Id="donutChart2" Data1="@num2"/>
            <span style="position: absolute;margin-top: 45px;font-size: 50px;" title="Среднее число входящих сигнализаций">97</span>
        </div>
    </div>
    
    

</div>

<div style="display:flex;gap:20px;justify-content: space-evenly;">
    <div style="min-width:530px;">
        <h3 style="margin-top:50px;">Входящие сигнализации</h3>
        <div class="table-responsive">
        <table class="table table-striped table-bordered">
            <thead class="thead-light">
                <tr>
                    <th></th>
                    <th>Пн</th>
                    <th>Вт</th>
                    <th>Ср</th>              
                    <th>Чт</th>
                    <th>Пт</th> 
                    <th>Сб</th>
                    <th>Вс</th> 
                </tr>
            </thead>
            
            <tbody>
                <tr>
                    <th>УПНГ</th>
                    <td>8</td>
                    <td>13</td>
                    <td>5</td>
                    <td>7</td>
                    <td>4</td>
                    <td>3</td>
                    <td>9</td>
                </tr>
                <tr>
                    <th>БМУПН</th>
                    <td>5</td>
                    <td>8</td>
                    <td>5</td>
                    <td>10</td>
                    <td>5</td>
                    <td>3</td>
                    <td>6</td>
                </tr>
                <tr>
                    <th>Скважины</th>
                    <td>11</td>
                    <td>8</td>
                    <td>8</td>
                    <td>10</td>
                    <td>12</td>
                    <td>7</td>
                    <td>5</td>
                </tr>
                <tr>
                    <th>Энергетика</th>
                    <td>5</td>
                    <td>6</td>
                    <td>3</td>
                    <td>4</td>
                    <td>6</td>
                    <td>7</td>
                    <td>3</td>
                </tr>
            
             </tbody>
        </table>
    </div>
    </div>
    <div style="min-width:530px;">
        <h3 style="margin-top:50px;">Активные сигнализации(72 часа)</h3>
        <div class="table-responsive">
        <table class="table table-striped table-bordered">
            <thead class="thead-light">
                <tr>
                    <th></th>
                    <th>Пн</th>
                    <th>Вт</th>
                    <th>Ср</th>              
                    <th>Чт</th>
                    <th>Пт</th> 
                    <th>Сб</th>
                    <th>Вс</th> 
                </tr>
            </thead>
            
            <tbody>
                <tr>
                    <th>УПНГ</th>
                    <td>8</td>
                    <td>13</td>
                    <td>5</td>
                    <td>7</td>
                    <td>4</td>
                    <td>3</td>
                    <td>9</td>
                </tr>
                <tr>
                    <th>БМУПН</th>
                    <td>5</td>
                    <td>8</td>
                    <td>5</td>
                    <td>10</td>
                    <td>5</td>
                    <td>3</td>
                    <td>6</td>
                </tr>
                <tr>
                    <th>Скважины</th>
                    <td>11</td>
                    <td>8</td>
                    <td>8</td>
                    <td>10</td>
                    <td>12</td>
                    <td>7</td>
                    <td>5</td>
                </tr>
                <tr>
                    <th>Энергетика</th>
                    <td>5</td>
                    <td>6</td>
                    <td>3</td>
                    <td>4</td>
                    <td>6</td>
                    <td>7</td>
                    <td>3</td>
                </tr>
            
             </tbody>
        </table>
        </div>
    </div>
    <div style="min-width:530px;">
        <h3 style="margin-top:50px;">Подавленные сигнализации(720 часов)</h3>
        <div class="table-responsive">
        <table class="table table-striped table-bordered">
            <thead class="thead-light">
                <tr>
                    <th></th>
                    <th>Пн</th>
                    <th>Вт</th>
                    <th>Ср</th>              
                    <th>Чт</th>
                    <th>Пт</th> 
                    <th>Сб</th>
                    <th>Вс</th>  
                </tr>
            </thead>
            
            <tbody>
                <tr>
                    <th>УПНГ</th>
                    <td>8</td>
                    <td>13</td>
                    <td>5</td>
                    <td>7</td>
                    <td>4</td>
                    <td>3</td>
                    <td>9</td>
                </tr>
                <tr>
                    <th>БМУПН</th>
                    <td>5</td>
                    <td>8</td>
                    <td>5</td>
                    <td>10</td>
                    <td>5</td>
                    <td>3</td>
                    <td>6</td>
                </tr>
                <tr>
                    <th>Скважины</th>
                    <td>11</td>
                    <td>8</td>
                    <td>8</td>
                    <td>10</td>
                    <td>12</td>
                    <td>7</td>
                    <td>5</td>
                </tr>
                <tr>
                    <th>Энергетика</th>
                    <td>5</td>
                    <td>6</td>
                    <td>3</td>
                    <td>4</td>
                    <td>6</td>
                    <td>7</td>
                    <td>3</td>
                </tr>
            
             </tbody>
        </table>
    </div>
    </div>
</div>






@code {
    [Parameter] public string? Title { get; set; }

    static DateTime From = new DateTime(2021, 01, 01, 00, 00, 00);
    static DateTime To = new DateTime(2021, 01, 30, 00, 00, 00);
    
    string[] num1 = new string[3];
    string[] num2 = new string[3];
    

    void SelectPriority()
    {

    }

    protected override void OnParametersSet()
    {
        var rand = new Random();
       
        for (int i = 0;i<3;i++)
        {            
            
            num1[i]=rand.Next(150).ToString();
            num2[i]=rand.Next(150).ToString();
        }        
                      
        StateHasChanged();
    }

    protected override void OnInitialized()
    { 
        To = DateTime.Now.Date;
        From = To.AddDays(-1);
    
    }
}